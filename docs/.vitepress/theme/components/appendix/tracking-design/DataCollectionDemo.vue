<!--
  DataCollectionDemo.vue
  æ•°æ®é‡‡é›†æ–¹æ¡ˆå¯¹æ¯” - å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯ã€CDNæ—¥å¿—é‡‡é›†
-->
<template>
  <div class="data-collection-demo">
    <div class="header">
      <div class="title">æ•°æ®é‡‡é›†æ–¹æ¡ˆ</div>
      <div class="subtitle">å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯ã€CDNä¸‰ç§é‡‡é›†æ–¹å¼å¯¹æ¯”</div>
    </div>

    <div class="collection-methods">
      <div
        v-for="method in methods"
        :key="method.id"
        class="method-card"
        @click="selectedMethod = method.id"
        :class="{ active: selectedMethod === method.id }"
      >
        <div class="method-icon">{{ method.icon }}</div>
        <div class="method-name">{{ method.name }}</div>
        <div class="method-desc">{{ method.desc }}</div>

        <div class="method-details" v-if="selectedMethod === method.id">
          <div class="detail-section">
            <div class="section-title">âœ… ä¼˜ç‚¹</div>
            <ul class="detail-list">
              <li v-for="(pro, i) in method.pros" :key="i">{{ pro }}</li>
            </ul>
          </div>

          <div class="detail-section">
            <div class="section-title">âŒ ç¼ºç‚¹</div>
            <ul class="detail-list">
              <li v-for="(con, i) in method.cons" :key="i">{{ con }}</li>
            </ul>
          </div>

          <div class="detail-section">
            <div class="section-title">ğŸ¯ é€‚ç”¨åœºæ™¯</div>
            <ul class="detail-list">
              <li v-for="(use, i) in method.useCases" :key="i">{{ use }}</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="comparison-table">
      <div class="table-title">æ–¹æ¡ˆå¯¹æ¯”</div>
      <table class="comparison">
        <thead>
          <tr>
            <th>å¯¹æ¯”ç»´åº¦</th>
            <th v-for="method in methods" :key="method.id">
              {{ method.name }}
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>æ•°æ®å‡†ç¡®æ€§</td>
            <td v-for="method in methods" :key="method.id">
              {{ method.accuracy }}
            </td>
          </tr>
          <tr>
            <td>å®æ—¶æ€§</td>
            <td v-for="method in methods" :key="method.id">
              {{ method.realtime }}
            </td>
          </tr>
          <tr>
            <td>å¼€å‘æˆæœ¬</td>
            <td v-for="method in methods" :key="method.id">
              {{ method.cost }}
            </td>
          </tr>
          <tr>
            <td>ç»´æŠ¤æˆæœ¬</td>
            <td v-for="method in methods" :key="method.id">
              {{ method.maintenance }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const selectedMethod = ref('client')

const methods = [
  {
    id: 'client',
    name: 'å®¢æˆ·ç«¯åŸ‹ç‚¹',
    icon: 'ğŸ“±',
    desc: 'åœ¨ Webã€App å‰ç«¯ä»£ç ä¸­é›†æˆåŸ‹ç‚¹ SDK',
    pros: ['å®æ—¶æ€§å¥½', 'å¯é‡‡é›†è®¾å¤‡ä¿¡æ¯', 'ç¦»çº¿ç¼“å­˜'],
    cons: ['æ•°æ®å¯èƒ½è¢«ç¯¡æ”¹', 'è€—ç”µæµé‡', 'App å´©æºƒå¯èƒ½ä¸¢å¤±'],
    useCases: ['é¡µé¢æµè§ˆ', 'æŒ‰é’®ç‚¹å‡»', 'è¡¨å•æäº¤'],
    accuracy: 'â˜…â˜…â˜…â˜†â˜†',
    realtime: 'â˜…â˜…â˜…â˜…â˜…',
    cost: 'â˜…â˜…â˜…â˜†â˜†',
    maintenance: 'â˜…â˜…â˜…â˜†â˜†'
  },
  {
    id: 'server',
    name: 'æœåŠ¡ç«¯åŸ‹ç‚¹',
    icon: 'âš™ï¸',
    desc: 'åœ¨æœåŠ¡å™¨ç«¯ä¸šåŠ¡é€»è¾‘ä¸­æ·»åŠ åŸ‹ç‚¹ä»£ç ',
    pros: ['æ•°æ®å‡†ç¡®', 'ä¸å¯ç¯¡æ”¹', 'é‡‡é›†æœåŠ¡ç«¯ç‰¹æœ‰æ•°æ®'],
    cons: ['æ— æ³•è·å–å®¢æˆ·ç«¯ä¿¡æ¯', 'éœ€è¦ä¸šåŠ¡ä»£ç ä¾µå…¥'],
    useCases: ['æ”¯ä»˜æˆåŠŸ', 'è®¢å•åˆ›å»º', 'API è°ƒç”¨'],
    accuracy: 'â˜…â˜…â˜…â˜…â˜…',
    realtime: 'â˜…â˜…â˜…â˜…â˜†',
    cost: 'â˜…â˜…â˜…â˜†â˜†',
    maintenance: 'â˜…â˜…â˜…â˜†â˜†'
  },
  {
    id: 'cdn',
    name: 'CDN æ—¥å¿—é‡‡é›†',
    icon: 'ğŸŒ',
    desc: 'é€šè¿‡ CDN è®¿é—®æ—¥å¿—åˆ†æç”¨æˆ·è¡Œä¸º',
    pros: ['é›¶ä»£ç ä¾µå…¥', 'è¦†ç›–æ‰€æœ‰ç”¨æˆ·', 'æˆæœ¬ä½'],
    cons: ['æ•°æ®ç»´åº¦æœ‰é™', 'æ— æ³•è·å–ä¸šåŠ¡æ•°æ®'],
    useCases: ['PV/UV ç»Ÿè®¡', 'èµ„æºåŠ è½½æ€§èƒ½', 'é”™è¯¯ç›‘æ§'],
    accuracy: 'â˜…â˜…â˜…â˜†â˜†',
    realtime: 'â˜…â˜…â˜…â˜†â˜†',
    cost: 'â˜…â˜…â˜…â˜…â˜…',
    maintenance: 'â˜…â˜…â˜…â˜…â˜…'
  }
]
</script>

<style scoped>
.data-collection-demo {
  border: 1px solid var(--vp-c-divider);
  background: var(--vp-c-bg-soft);
  border-radius: 12px;
  padding: 2rem;
  margin: 2rem 0;
  font-family: var(--vp-font-family-base);
}

.header {
  text-align: center;
  margin-bottom: 2rem;
}

.title {
  font-weight: 700;
  font-size: 1.3rem;
  margin-bottom: 0.5rem;
}

.subtitle {
  color: var(--vp-c-text-2);
  font-size: 1rem;
}

.collection-methods {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.5rem;
  margin-bottom: 2rem;
}

.method-card {
  background: var(--vp-c-bg);
  border: 2px solid var(--vp-c-divider);
  border-radius: 12px;
  padding: 1.5rem;
  cursor: pointer;
  transition: all 0.3s;
}

.method-card:hover,
.method-card.active {
  border-color: var(--vp-c-brand);
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
}

.method-icon {
  font-size: 3rem;
  text-align: center;
  margin-bottom: 1rem;
}

.method-name {
  font-weight: 700;
  font-size: 1.1rem;
  text-align: center;
  margin-bottom: 0.5rem;
}

.method-desc {
  text-align: center;
  color: var(--vp-c-text-2);
  font-size: 0.9rem;
  margin-bottom: 1rem;
}

.method-details {
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid var(--vp-c-divider);
}

.detail-section {
  margin-bottom: 1rem;
}

.section-title {
  font-weight: 600;
  font-size: 0.9rem;
  margin-bottom: 0.5rem;
}

.detail-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.detail-list li {
  font-size: 0.85rem;
  padding: 0.25rem 0;
  padding-left: 1.25rem;
  position: relative;
  color: var(--vp-c-text-1);
}

.detail-list li::before {
  content: 'â€¢';
  position: absolute;
  left: 0;
  color: var(--vp-c-brand);
  font-weight: 700;
}

.comparison-table {
  background: var(--vp-c-bg);
  border-radius: 12px;
  padding: 1.5rem;
  border: 1px solid var(--vp-c-divider);
}

.table-title {
  font-weight: 600;
  margin-bottom: 1rem;
  text-align: center;
  font-size: 1.1rem;
}

.comparison {
  width: 100%;
  border-collapse: collapse;
}

.comparison th {
  background: var(--vp-c-bg-soft);
  padding: 0.75rem;
  text-align: left;
  font-weight: 600;
  border-bottom: 2px solid var(--vp-c-divider);
}

.comparison td {
  padding: 0.75rem;
  border-bottom: 1px solid var(--vp-c-divider);
}

.comparison td:first-child {
  font-weight: 600;
  color: var(--vp-c-text-1);
}

@media (max-width: 768px) {
  .collection-methods {
    grid-template-columns: 1fr;
  }
}
</style>
