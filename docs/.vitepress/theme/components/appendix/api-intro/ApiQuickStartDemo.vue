<!--
  ApiQuickStartDemo.vue - ç®€åŒ–ç‰ˆ
  ç›®æ ‡ï¼šç”¨æœ€ç®€å•çš„äº¤äº’å±•ç¤º API è°ƒç”¨æµç¨‹
-->
<template>
  <div class="demo">
    <div class="title">ğŸ® è¯•è¯•çœ‹ï¼šè°ƒç”¨ä¸€æ¬¡ API</div>
    <p class="subtitle">ç‚¹ä¸€ä¸‹æŒ‰é’®ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆ</p>

    <div class="box">
      <button class="call-btn" :disabled="calling" @click="callApi">
        {{ calling ? 'è°ƒç”¨ä¸­...' : 'ğŸ”˜ ç‚¹æˆ‘è°ƒç”¨ API' }}
      </button>

      <div class="result" v-if="result">
        <div class="success" v-if="result.success">
          âœ… æˆåŠŸï¼API è¿”å›äº†ï¼š{{ result.data }}
        </div>
        <div class="error" v-else>
          âŒ å¤±è´¥äº†ï¼š{{ result.error }}
        </div>
      </div>
    </div>

    <div class="explain">
      <p><strong>ä½ çœ‹ï¼š</strong>ä½ åªéœ€è¦ç‚¹ä¸€ä¸‹æŒ‰é’®ï¼ˆè°ƒç”¨ APIï¼‰ï¼Œå°±ä¼šå¾—åˆ°ç»“æœã€‚</p>
      <p>è¿™å°±æ˜¯ API çš„æœ¬è´¨ï¼š<strong>æŒ‰çº¦å®šæŠŠè¯·æ±‚äº¤ç»™å¯¹æ–¹ï¼Œå¯¹æ–¹æŒ‰çº¦å®šæŠŠç»“æœç»™ä½ </strong>ã€‚</p>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const calling = ref(false)
const result = ref(null)

function callApi() {
  calling.value = true
  result.value = null

  // æ¨¡æ‹Ÿ API è°ƒç”¨
  setTimeout(() => {
    result.value = {
      success: true,
      data: 'Hello from API!'
    }
    calling.value = false
  }, 800)
}
</script>

<style scoped>
.demo {
  border: 1px solid var(--vp-c-divider);
  border-radius: 12px;
  padding: 20px;
  background: var(--vp-c-bg-soft);
  margin: 16px 0;
}

.title {
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 8px;
  color: var(--vp-c-text-1);
}

.subtitle {
  color: var(--vp-c-text-2);
  margin-bottom: 16px;
}

.box {
  background: var(--vp-c-bg);
  border: 1px solid var(--vp-c-divider);
  border-radius: 8px;
  padding: 20px;
  text-align: center;
}

.call-btn {
  background: var(--vp-c-brand-1);
  color: white;
  border: none;
  padding: 12px 24px;
  font-size: 16px;
  font-weight: bold;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s;
}

.call-btn:hover:not(:disabled) {
  opacity: 0.9;
  transform: scale(1.05);
}

.call-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.result {
  margin-top: 16px;
  padding: 12px;
  border-radius: 8px;
  font-size: 14px;
}

.success {
  background: #dcfce7;
  color: #166534;
  border: 1px solid #86efac;
}

.error {
  background: #fee2e2;
  color: #991b1b;
  border: 1px solid #fca5a5;
}

.explain {
  margin-top: 16px;
  padding: 12px;
  background: var(--vp-c-bg);
  border-radius: 8px;
  font-size: 14px;
  line-height: 1.6;
  color: var(--vp-c-text-2);
}
</style>
